<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
    <head>
        <title>Travel Dashboard</title>
        <!-- linking a css style sheet -->
        <link rel="stylesheet" href="{% static 'python_belt_exam_app/css/styles.css' %}">
        <!-- Linking Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>
    <body>
        <div class="container">
            <div class="headerino">
                    <h3>Welcome {{ request.session.welcomename }}!</h3>
                    <a href="/logout"><h3>Logout</h3></a>
            </div>
            <div class="trip_table"> 
                <h3>Your Trip Schedules</h3>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                        <th scope="col">Destination</th>
                        <th scope="col">Travel Start Date</th>
                        <th scope="col">Travel End Date</th>
                        <th scope="col">Description</th>
                        <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for trip in mytrips %}
                        <tr>
                            <td><a href=/view/{{trip.id}}>{{trip.destination}}</a></td>
                            <td>{{trip.datefrom}}</td>
                            <td>{{trip.dateto}}</td>
                            <td>{{trip.description}}</td>
                            <td>
                                {% if trip.trip_users.id == request.session.id %}
                                    <a href=/delete/{{trip.id}}>Delete</a>
                                {% endif %}
                                <a href=/cancel/{{trip.id}}>Cancel</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="other_trip_table">
                <h3>Other User's Travel Plans</h3>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                        <th scope="col">Destination</th>
                        <th scope="col">Travel Start Date</th>
                        <th scope="col">Travel End Date</th>
                        <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for trip in alltrips %}
                        <tr>
                            <td><a href=/view/{{trip.id}}>{{trip.destination}}</a></td>
                            <td>{{trip.datefrom}}</td>
                            <input type="hidden" name="trip_id" value={{ trip.id }}>
                            <td>{{trip.dateto}} </td>
                            <td>
                                <a href=/join/{{trip.id}}>Join</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
        
            </div>
            <a href="/addtrip">Add a Trip</a>
            
        </div>